<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Producto</title>
</head>
<style> 
    body {
    font: bold italic 15px Verdana;
    }       
    h1{
        text-align: center;
    }
    #formulario{
        background-color: #ddd;
        text-align: center;
        height:400px;
        width: 300px;
        margin:60px auto;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 10px -10px 20px #aaa; 
      }
    #formulario label {
    display: block;
    margin: 10px;
        }
    #formulario input {
        border: none;   
        border-radius: 5px;
        width: 300px;
    }    
    #formulario button {
       font-weight: bold;
       border: 1px solid #FFFFFF;
       border-radius: 5px;
       width: 60%; 
       margin: 20px;
       padding:5px 10px;    
    }    
</style>
<body>
<div id="formulario">      
<h1>Crear Producto</h1>
<form id="producto_formulario">
    <label for="nombre_id">Nombre:</label>
    <input type="text" id="nombre_id" name="nombre_id" required><br>
    <label for="marca_id">Marca:</label>
    <input type="text" id="marca_id" name="marca_id" required><br>
    <label for="precio_id">Precio:</label>
    <input type="number" id="precio_id" name="precio_id" required step="0.01"><br>
    <label for="stock_id">Stock:</label>
    <input type="number" id="stock_id" name="stock_id" required><br>
    <button type="submit">Agregar Producto</button >
    </form>
</div> 
<script>
    document.addEventListener('DOMContentLoaded', ()=> {
      const productoForm = document.getElementById('producto_formulario') 

    productoForm.addEventListener('submit', async (event) => {
          event.preventDefault();

          const nuevoProducto = {
          nombre : document.getElementById('nombre_id').value,
          marca : document.getElementById('marca_id').value,
          precio : document.getElementById('precio_id').value,
          stock : document.getElementById('stock_id').value
          };
  try{    await fetch('http://localhost:8080/productos/crear', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json'
              },
              body: JSON.stringify(nuevoProducto)
          });
              alert("Producto creado con Ã©xito");
              productoForm.reset()
      } catch(error){
          alert("Error al crear el producto");
          }
      });
      });
</script>
</body>
</html>